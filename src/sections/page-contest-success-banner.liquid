<div id="page_contest_success_template"
     class="page-contest-success-template"
     data-section-id="{{ section.id }}"
     data-section-type="page-contest-success-template"
>
    {% if section.settings.image != blank %}
        <div class="top-banner">
            {% assign type = section.settings.image %}
            {%- if type.size > 0 -%}
            {% assign img_url = type | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
            {% assign imageid = image.id %}

            <div class="box-ratio top-hero-img">
                <img class="lazyload lazyload-fade"
                     id="{{ imageid }}"
                     data-src="{{ img_url }}"
                     data-sizes="auto"
                     alt="{{ type.alt | escape }}">
                {% if section.settings.heading != blank %}
                <h1 class="top-hero-heading">{{ section.settings.heading }}</h1>
                {% endif %}
            </div>
            {%- endif -%}

            <noscript>
                <img src="{{ section.settings.image | img_url: '1024x' }}" alt="{{ section.settings.image.alt }}">
            </noscript>
        </div>
    {% endif %}
</div>

{% schema %}
{
    "name": "Page-Contest-Success",
    "settings":
    [
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
        },
        {
            "type": "text",
            "id": "heading",
            "label": "Heading"
        },
        {
            "id": "text",
            "type": "richtext",
            "label": "Text",
            "default": "<p>Add some descriptive text to your Blog page.</p>"
        }
    ]
}
{% endschema %}
